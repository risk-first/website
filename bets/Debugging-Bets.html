<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-bets/Debugging-Bets" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Debugging Bets | Risk First</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://riskfirst.org/bets/Debugging-Bets"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="msvalidate.01" content="3D19A6D7C17D82567867CF4238511ED1"><meta data-rh="true" name="og:image" content="/img/generated/titles/bets/Debugging-Bets.png"><meta data-rh="true" property="og:image" content="/img/generated/titles/bets/Debugging-Bets.png"><meta data-rh="true" name="twitter:image" content="/img/generated/titles/bets/Debugging-Bets.png"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Debugging Bets | Risk First"><meta data-rh="true" name="description" content="Making use of risk and odds while debugging"><meta data-rh="true" property="og:description" content="Making use of risk and odds while debugging"><link data-rh="true" rel="icon" href="/img/favicon/apple-icon-180x180.png"><link data-rh="true" rel="canonical" href="https://riskfirst.org/bets/Debugging-Bets"><link data-rh="true" rel="alternate" href="https://riskfirst.org/bets/Debugging-Bets" hreflang="en"><link data-rh="true" rel="alternate" href="https://riskfirst.org/bets/Debugging-Bets" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://P1W8LCRYQS-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-TN9XHX17P8"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-TN9XHX17P8",{anonymize_ip:!0})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Risk First" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.28675815.css">
<script src="/assets/js/runtime~main.7e966bb6.js" defer="defer"></script>
<script src="/assets/js/main.ff264407.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:rgb(245, 62,121);color:#ffffff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">Risk-First Software Development Second Edition - Coming Soon! <a target="_blank" rel="noopener noreferrer" href="/Risk-First-Second-Edition">Click here for details</a></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/R1_logo_round_white.svg" alt="Risk First Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/R1_logo_round_black.svg" alt="Risk First Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Risk First</b></a><a class="navbar__item navbar__link" href="/overview/Start">Overview</a><a class="navbar__item navbar__link" href="/thinking/Start">Thinking</a><a class="navbar__item navbar__link" href="/risks/Start">Risks</a><a class="navbar__item navbar__link" href="/practices/Start">Practices</a><a class="navbar__item navbar__link" href="/methods/Start">Methods</a><a class="navbar__item navbar__link" href="/books/Start">Books</a><a class="navbar__item navbar__link" href="/bets/Start">Bets</a><a class="navbar__item navbar__link" href="/estimating/Start">Estimating</a><a class="navbar__item navbar__link" href="/presentations/Start">Presentations</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/risk-first/website" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/overview/Start">Overview</a><button aria-label="Expand sidebar category &#x27;Overview&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/thinking/Start">Thinking</a><button aria-label="Expand sidebar category &#x27;Thinking&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/risks/Start">Risks</a><button aria-label="Expand sidebar category &#x27;Risks&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/practices/Start">Practices</a><button aria-label="Expand sidebar category &#x27;Practices&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/methods/Start">Methods</a><button aria-label="Expand sidebar category &#x27;Methods&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/books/Start">Books</a><button aria-label="Expand sidebar category &#x27;Books&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/bets/Start">Bets</a><button aria-label="Collapse sidebar category &#x27;Bets&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/bets/Purpose-Development-Team">The Purpose of the Development Team</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/bets/Coding-Bets">Coding Bets</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/bets/Debugging-Bets">Debugging Bets</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/estimating/Start">Estimating</a><button aria-label="Expand sidebar category &#x27;Estimating&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/presentations/Start">Presentations</a><button aria-label="Expand sidebar category &#x27;Presentations&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/bets/Start"><span itemprop="name">Bets</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Debugging Bets</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Debugging Bets</h1>
<p>In <a href="/bets/Purpose-Development-Team">The Purpose Of The Development Team</a> we looked at how a development team is all about trying to shift the risk profile in favour of the business.  Perhaps by removing the risk of customers not having the features they want, or not signing up, or not learning about the product.</p>
<p>Then, in <a href="/bets/Coding-Bets">Coding Bets</a> we considered the same thing at task level. That is, in choosing to spend time on a given task we are staking our time to improve our risk position.  And, it’s definitely a bet, because sometimes, a piece of coding simply doesn’t end up working the way you want.</p>
<p><img decoding="async" loading="lazy" alt="Article Series" src="/assets/images/bets-fc3c0635cc9452ac312dce3a7e1cf4c1.svg" width="663" height="212" class="img_ev3q"></p>
<p>Now, we’re going to consider the exact same thing again but from the point of view of debugging. I’ve been waiting a while to write this, because I’ve wanted a really interesting bug to come along to allow me to go over how you can apply risk to cracking it.</p>
<p>Luckily one came along today, giving me a chance to write it up and go over this.  If you&#x27;ve not looked at Risk-First articles before, you may want to review <a href="/thinking/Risk-First-Diagrams">Risk-First Diagrams Explained</a>, since there&#x27;ll be lots of diagrams to demonstrate the bets I&#x27;m making.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-problem">The Problem<a class="hash-link" aria-label="Direct link to The Problem" title="Direct link to The Problem" href="/bets/Debugging-Bets#the-problem">​</a></h2>
<p><a href="https://symphony.com" target="_blank" rel="noopener noreferrer">Symphony</a> is a secure chat platform used mainly by banks.  I have been writing an app (&quot;Tables App&quot;) which runs within Symphony and allows you to share and edit tabular data with people in a chat room.    It’s a nice little piece of functionality, allowing banks and their clients to sign off on things in tables (like purchase orders) imported from Excel.  This is way more elegant than email trails.</p>
<p>In order to make this work, we made use of functionality within Symphony called “On-Behalf-Of”, which allows Tables App to post messages as a user, if the user has given prior authorisation.</p>
<p><img decoding="async" loading="lazy" alt="Table Editing In Symphony" src="/assets/images/tables-e729bec5055693bdf4198a140d62e8f1.jpg" width="1130" height="766" class="img_ev3q"></p>
<p>But something wasn’t working - whenever I clicked &quot;post&quot; - no table!</p>
<p>To make matters worse, I was supposed to be doing a presentation on this within <strong>two hours</strong>.  I’d need to make good use of my available time.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="flow">Flow<a class="hash-link" aria-label="Direct link to Flow" title="Direct link to Flow" href="/bets/Debugging-Bets#flow">​</a></h2>
<p>So, what is supposed to happen?</p>
<p><img decoding="async" loading="lazy" alt="Flow of Action" src="/assets/images/debugging_flow-cc5f4af7dca05b8c2a5e28a74c362fc7.png" width="1500" height="908" class="img_ev3q"></p>
<ol>
<li>The user clicks the &quot;post&quot; button in Tables App.</li>
<li>Tables App then makes a request to the Symphony Server for an On-Behalf-Of token.</li>
<li>With this token, Tables App then makes a request to the Encryption Agent to post a message.</li>
<li>The Encryption Agent encrypts the message, and forwards it on to the Symphony Server.</li>
<li>If that goes well, the message is added to the chat, and is delivered from the Symphony Server to the user&#x27;s screen.</li>
</ol>
<p>However, things go south around step 4:   I see the On-Behalf-Of token in Tables App, but using it with the Encryption Agent fails.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="facts">Facts<a class="hash-link" aria-label="Direct link to Facts" title="Direct link to Facts" href="/bets/Debugging-Bets#facts">​</a></h2>
<p>Bubbling around in my mind were a number of hypotheses about why the demo wasn’t working.  Could it be my code?  Could it be something to do with connectivity? Could it be something on the Symphony side?</p>
<p>For now, I ignored those voices in my head.  I wanted to use my limited time wisely, so first, I enumerated what I <em>did</em> know:</p>
<ol>
<li>
<p>I knew the Encryption Agent worked.  I have a bot that uses it to post messages - but it’s not doing it On-Behalf-Of anyone, it just posts messages which are <em>from the bot</em>.</p>
</li>
<li>
<p>The error message in Table App’s log pertained to certificates.  So, there was likely to be some issue with certificates (good work, Sherlock).</p>
</li>
<li>
<p>Using <code>curl</code> (a command line program for doing HTTP requests), I could perform the same tasks locally, connecting to the Encryption Agent from my PC.  However there, I got a message saying <code>not able to obtain session</code>.</p>
</li>
<li>
<p>Another part of Tables App was also trying to pull back details of who was in a chat room.  This was also failing with a message saying <code>You need [MANAGE_ROOMS] role</code>.  But this connected to the Symphony Server directly (not the Encryption Agent), because it didn’t need to encrypt anything.</p>
</li>
<li>
<p>Two week’s prior, I had tested some other On-Behalf-Of functionality out in a different application.  And it had worked fine.  I had scripts and logs to prove it.   But I had two hours left and digging up these scripts and running them again would be expensive.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="hypotheses">Hypotheses<a class="hash-link" aria-label="Direct link to Hypotheses" title="Direct link to Hypotheses" href="/bets/Debugging-Bets#hypotheses">​</a></h2>
<p>In order to figure out how to use my time, I’d need to enumerate all the hypotheses about what the problem might be, and then work out how best to use my time to test these hypotheses.</p>
<p><img decoding="async" loading="lazy" alt="Hypotheses" src="/assets/images/hypotheses-e11014f1057ec98bd309281fcd2edd34.svg" width="1278" height="342" class="img_ev3q"></p>
<p>In order to generate the list of hypotheses, you have to find the last-known good place, and work forward through all the steps after that that could have failed.  So this is what I came up with:</p>
<ul>
<li><code>H1</code>:  The security token being used was corrupted somehow, in my <code>curl</code> test.  (unlikely)</li>
<li><code>H2</code>:  Again pertaining to <code>curl</code>, maybe I had a very short life-span of token, and it had expired? (likely)</li>
<li><code>H3</code>:  Perhaps Tables App didn’t have the privileges it needed to operate?  (somewhat likely)</li>
<li><code>H4</code>:  Maybe there was some <em>new</em> problem with the Encryption Agent?  (very likely)</li>
<li><code>H5</code>:  Maybe I was somehow creating the security token wrongly?   (likely)</li>
<li><code>H6</code>:  The fact that <code>curl</code> and my server code got different responses is suspicious.  Was my server using the wrong certificate? (quite likely)</li>
<li><code>H7</code>: Alternatively, since I was running <code>curl</code> locally, and the server was running remotely, could it be a connection problem? (somewhat likely)</li>
</ul>
<p>Were there other things that could have gone wrong?  Maybe, but they didn’t occur to me at that point in time.  Could there be multiple things going wrong?  Quite likely.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="tests">Tests<a class="hash-link" aria-label="Direct link to Tests" title="Direct link to Tests" href="/bets/Debugging-Bets#tests">​</a></h2>
<p>If we test each hypothesis, we learn something about the system.  But that has a (time) cost:  I had a limited amount of time to try and learn as much as possible.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="first-test">First Test<a class="hash-link" aria-label="Direct link to First Test" title="Direct link to First Test" href="/bets/Debugging-Bets#first-test">​</a></h3>
<p><img decoding="async" loading="lazy" alt="Test 1: Curl With Broken Token" src="/assets/images/test1-d307908cd1880621d55e1d04a7c261de.svg" width="874" height="434" class="img_ev3q"></p>
<p>Although <code>H1</code> was unlikely (and therefore I probably wasn’t going to learn much) it was really easy to test.  All I needed to do was try the <code>curl</code> command again with a deliberately broken token.  What would the message be?  What came back was a <code>401 error - unauthorised</code>.  So it definitely wasn’t <code>H1</code>, because the error message was different.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="second-test">Second Test<a class="hash-link" aria-label="Direct link to Second Test" title="Direct link to Second Test" href="/bets/Debugging-Bets#second-test">​</a></h3>
<p><code>H6</code> / <code>H7</code> were a fairly easy thing to check.  I could fire up the server locally and test the code there.   I did this and discovered the certificate problem persisted.  I tinkered around a bit with the code, and eventually, it went away.  Instead, I got the <code>curl</code> “not able to obtain session” error  message.</p>
<p>So, although I did have an issue with certificates, it wasn’t the main problem, just a side-show.  <code>H6</code> was now ruled out.</p>
<p>Since the code was returning the same result locally and on the server, that really ruled out <code>H7</code>.  Also <code>H2</code> was ruled out, because the server ran really fast - there wasn’t time for the token to expire.</p>
<p><img decoding="async" loading="lazy" alt="Test 2:  Run Locally" src="/assets/images/test2-080367a7298cc79c814282cb37c13d63.svg" width="1229" height="464" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="third-test">Third Test<a class="hash-link" aria-label="Direct link to Third Test" title="Direct link to Third Test" href="/bets/Debugging-Bets#third-test">​</a></h2>
<p>Down to just <code>H3</code>,<code>H4</code> and <code>H5</code>.  I had definitely seen On-Behalf-Of working two weeks’ ago, but in that other app.  A fairly quick thing to do would be to try and post the message with that other app, but it wasn&#x27;t installed.  Instead, I could try my same code out again, but <em>using the other app&#x27;s identity</em>.  I did this, and lo!  I still get the “not able to obtain session” error.</p>
<p><img decoding="async" loading="lazy" alt="Test 3:  Post With Other App" src="/assets/images/test3-f4ebfa094befe798460886a52791436d.svg" width="917" height="459" class="img_ev3q"></p>
<p>This ruled out <code>H3</code>.  But there was still a chance I was creating the token wrongly (<code>H5</code>).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="fourth-test">Fourth Test<a class="hash-link" aria-label="Direct link to Fourth Test" title="Direct link to Fourth Test" href="/bets/Debugging-Bets#fourth-test">​</a></h2>
<p>If I could use this token for an an On-Behalf-Of operation on the Symphony Server (rather than the Encryption Agent), it would prove the token was good, and rule out <code>H5</code>.</p>
<p>This was another simple thing to test, since all I had to do was call a “Room Lookup” function on the Symphony Server, something that didn’t need encryption, and therefore use the Encryption Agent.  Now, although Tables App couldn&#x27;t do this (fact 4), my other app could, so I could continue with the new identity and try that.</p>
<p><img decoding="async" loading="lazy" alt="Test 4:  On-Behalf-Of Against Server" src="/assets/images/test4-e39f456645cfaa6b73863af34275cd56.svg" width="932" height="387" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="outcome">Outcome<a class="hash-link" aria-label="Direct link to Outcome" title="Direct link to Outcome" href="/bets/Debugging-Bets#outcome">​</a></h2>
<p>Sadly, this meant that I’d actually had to test and rule out <em>all of the other hypotheses</em> in order to arrive at the correct one (<code>H4</code>).  I guess it happens.   And the problem at this point is that I can’t fix it on my own: although I found (and fixed) a certificates-related bug in my own code, this one is going to require some support calls.  So, this is a bad outcome:  I couldn&#x27;t do the presentation but <em>I did</em> manage to figure this all out within an hour.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="some-notes">Some Notes<a class="hash-link" aria-label="Direct link to Some Notes" title="Direct link to Some Notes" href="/bets/Debugging-Bets#some-notes">​</a></h2>
<ol>
<li>I started by writing down all the things I knew, and all of my hypotheses.  Why?  Surely, time was short!  I did this <em>because</em> time was short.  The reason was, by having all of the facts and hypotheses to hand I was setting up my <a href="/tags/Internal-Model">Internal Model</a> of the problem, with which I could reason about the new information as I came across it.</li>
<li>I performed four tests, and ended up ruling out six different hypotheses.   That feels like good value-for-time.</li>
<li>In each case, I am trading <em>time</em> to change the risk profile of the problem.  By reducing to zero the likelihood of some risks, I am increasing the likelihood of those left.  So a good test would:</li>
</ol>
<ul>
<li>a.  Bisect probability space 50/50.  That way the information is maximised.</li>
<li>b.  Require the least time-stake up-front in order to learn the information.</li>
</ul>
<ol start="4">
<li>Could I have tested <code>H4</code> first?  It was, after all the most likely thing in the first place.  If I could have proved that straight off, it would definitely have been better, but I don&#x27;t think I <em>could have</em>, since I also had the certificates issue in play.</li>
<li>What would have definitely been <em>worse</em> would have been trying something long-winded out that doesn&#x27;t end up proving anything.  A long-running bet which doesn&#x27;t prove a hypothesis one way or the other is the biggest loss of all.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="suitability">Suitability<a class="hash-link" aria-label="Direct link to Suitability" title="Direct link to Suitability" href="/bets/Debugging-Bets#suitability">​</a></h2>
<p>I have a feeling that this is really the process I use for <em>every</em> bug, whether I am conscious of it or not:  generating hypotheses, ruling some of them out by comparing to the facts I know, and then testing the remaining ones.  However, I think most of the time (maybe as a result of being a developer for a long period) I don&#x27;t have to do this consciously.  It just <em>happens</em>.</p>
<p>Also, I am super-lazy.  I&#x27;m always trying to rule of out the hypotheses with the least effort.  Usually, that means lashing together some arrangement of stuff just so see what happens (like the switching identities stuff above).  If testing a hypothesis starts to look onerous, I&#x27;ll try and find some clever trick to reduce that effort.</p>
<p>Perhaps you have a different process?  Is there another one?  I&#x27;d really like to know about it if so.   Please join the GitHub Risk-First team and tell me about it!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-tags-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/tags/Bet">Bet</a></li></ul></div></div><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/risk-first/website/blob/master/docs/bets/Debugging-Bets.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/bets/Coding-Bets"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Coding Bets</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/estimating/Start"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">On Estimating</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/bets/Debugging-Bets#the-problem">The Problem</a></li><li><a class="table-of-contents__link toc-highlight" href="/bets/Debugging-Bets#flow">Flow</a></li><li><a class="table-of-contents__link toc-highlight" href="/bets/Debugging-Bets#facts">Facts</a></li><li><a class="table-of-contents__link toc-highlight" href="/bets/Debugging-Bets#hypotheses">Hypotheses</a></li><li><a class="table-of-contents__link toc-highlight" href="/bets/Debugging-Bets#tests">Tests</a><ul><li><a class="table-of-contents__link toc-highlight" href="/bets/Debugging-Bets#first-test">First Test</a></li><li><a class="table-of-contents__link toc-highlight" href="/bets/Debugging-Bets#second-test">Second Test</a></li></ul></li><li><a class="table-of-contents__link toc-highlight" href="/bets/Debugging-Bets#third-test">Third Test</a></li><li><a class="table-of-contents__link toc-highlight" href="/bets/Debugging-Bets#fourth-test">Fourth Test</a></li><li><a class="table-of-contents__link toc-highlight" href="/bets/Debugging-Bets#outcome">Outcome</a></li><li><a class="table-of-contents__link toc-highlight" href="/bets/Debugging-Bets#some-notes">Some Notes</a></li><li><a class="table-of-contents__link toc-highlight" href="/bets/Debugging-Bets#suitability">Suitability</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" position="left" href="/overview/Start">Overview</a></li><li class="footer__item"><a class="footer__link-item" position="left" href="/thinking/Start">Thinking</a></li><li class="footer__item"><a class="footer__link-item" position="left" href="/risks/Start">Risks</a></li><li class="footer__item"><a class="footer__link-item" position="left" href="/practices/Start">Practices</a></li><li class="footer__item"><a class="footer__link-item" position="left" href="/methods/Start">Methods</a></li><li class="footer__item"><a class="footer__link-item" position="left" href="/books/Start">Books</a></li><li class="footer__item"><a class="footer__link-item" position="left" href="/bets/Start">Bets</a></li><li class="footer__item"><a class="footer__link-item" position="left" href="/estimating/Start">Estimating</a></li><li class="footer__item"><a class="footer__link-item" position="left" href="/presentations/Start">Presentations</a></li></ul></div><div class="col footer__col"><div class="footer__title">Further Info</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/orgs/risk-first/teams/risk-first-team" target="_blank" rel="noopener noreferrer" class="footer__link-item">RiskFirst GitHub Team (News)<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/risk-first/website" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/in/robmoffat/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rob On LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">GitHub</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/risk-first/website/stargazers"><img src="https://img.shields.io/github/stars/risk-first/website" alt="GitHub Stars"></a></li><li class="footer__item"><a href="https://github.com/risk-first/website/forks"><img src="https://img.shields.io/github/forks/risk-first/website" alt="GitHub Forks"></a></li><li class="footer__item"><a href="https://github.com/risk-first/website/watchers"><img src="https://img.shields.io/github/watchers/risk-first/website" alt="GitHub Watchers"></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/img/R1_logo_round_black.svg" alt="Meta Open Source Logo" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE" width="100px"><img src="/img/R1_logo_round_black.svg" alt="Meta Open Source Logo" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU" width="100px"></div><div class="footer__copyright">Copyright © 2024 Kite9 Ltd. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>